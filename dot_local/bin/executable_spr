#!/bin/bash

# This script starts screenpipe as a background process, configured to monitor
# only specific applications and with audio recording disabled.

echo "Starting screenpipe in the background..."

# The 'nohup' command ensures the process continues running even if the terminal session is closed.
# Output (both stdout and stderr) is redirected to /dev/null to run silently.
# The '&' at the end runs the command as a background job.

nohup screenpipe \
  --disable-audio \
  --included-windows "Arc Browser" \
  --included-windows "Alacritty" \
  --included-windows "Figma" \
  --included-windows "Zen" >/dev/null 2>&1 &

# Capture the Process ID (PID) of the background job
PID=$!

echo "Screenpipe has been started with PID: $PID"
echo "It will only monitor Arc Browser, Alacritty, Figma, and Zen."
echo "Audio recording is disabled."
echo "To stop the process, run: kill $PID"
