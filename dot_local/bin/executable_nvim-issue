#!/bin/sh

# nvim-issue - Opens a ghostty window with given directory, and issue number
# Usage: nvim-edit DIRECTORY ISSUE_NUMBER

if [[ -z "$1" ]]; then
    echo "Usage: nvim-edit DIRECTORY ISSUE_NUMBER"
    exit 1
fi

DIRECTORY="$1"
ISSUE_NUMBER="$2"

if [[ -z "$DIRECTORY" ]]; then
    echo "Usage: nvim-edit DIRECTORY ISSUE_NUMBER"
    exit 1
fi

if [[ -z "$ISSUE_NUMBER" ]]; then
    echo "Usage: nvim-edit DIRECTORY ISSUE_NUMBER"
    exit 1
fi

uwsm app -- ghostty --working-directory="$DIRECTORY" -e 'nvim -c "Octo issue edit $ISSUE_NUMBER"'
