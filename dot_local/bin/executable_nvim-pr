#!/bin/sh

# nvim-pr - Opens a ghostty window with given directory, and pr number
# Usage: nvim-edit DIRECTORY PR_NUMBER

if [[ -z "$1" ]]; then
    echo "Usage: nvim-edit DIRECTORY ISSUE_NUMBER"
    exit 1
fi

DIRECTORY="$1"
PR_NUMBER="$2"

if [[ -z "$DIRECTORY" ]]; then
    echo "Usage: nvim-edit DIRECTORY ISSUE_NUMBER"
    exit 1
fi

if [[ -z "$PR_NUMBER" ]]; then
    echo "Usage: nvim-edit DIRECTORY ISSUE_NUMBER"
    exit 1
fi

uwsm app -- ghostty --working-directory="$DIRECTORY" -e nvim -c "Octo pr checks $PR_NUMBER"
